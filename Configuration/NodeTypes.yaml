# If you need more than just the "main" content area you can
# uncomment the snippet below. It will add a "sidebar" area
# to your pages. You can add as many areas as you like, still
# only those that are rendered in your TypoScript and Template
# are visible on your page.
---
'TYPO3.Neos.NodeTypes:Page':
  ui:
    inspector:
      groups:
        teaser:
          label: 'Teaser'
  properties:
    headerImage:
      type: TYPO3\Media\Domain\Model\ImageVariant
      ui:
        label: 'Header Image'
        inlineEditable: FALSE
        reloadIfChanged: TRUE
        inspector:
          group: 'teaser'
  childNodes:
    siteTitle:
      type: 'TYPO3.Neos:ContentCollection'
    teaser:
      type: 'Itc.ITeleTraffic:Teaser'
    main:
      constraints:
        nodeTypes:
          'Itc.ITeleTraffic:Congress': FALSE
    sidebar:
      type: 'TYPO3.Neos:ContentCollection'

'Itc.ITeleTraffic:SiteTitle':
  superTypes: ['TYPO3.Neos.NodeTypes:Headline']
  ui:
    group: 'general'
    label: 'Site Title'
    inlineEditable: true
  properties:
    title:
      type: string
      defaultValue: '<h1>Enter headline here</h1>'
      ui:
        inlineEditable: TRUE
        aloha:
          'format':
            'p': TRUE
            'b': FALSE
            'i': FALSE
            'u': FALSE
            'em': TRUE
            'sub': FALSE
            'sup': TRUE
            'h1': TRUE
            'h2': FALSE
            'h3': FALSE
            'h4': FALSE
            'h5': FALSE
            '*': FALSE
          'table': []
          'link': []
          'list': []
          'alignment': []
          'formatlesspaste': []

'Itc.ITeleTraffic:Teaser':
  superTypes: ['TYPO3.Neos:Content', 'TYPO3.Neos.NodeTypes:TextMixin']
  ui:
    group: 'general'
    label: 'Teaser'
    inspector:
      groups:
        congress:
          label: 'teaser'
  properties:
    text:
      type: string
      defaultValue: 'Enter Teaser Text...'
    reference:
      type: reference
      ui:
        label: 'Link Target'
        reloadIfChanged: TRUE
        inspector:
          group: 'teaser'

'Itc.ITeleTraffic:Congress':
  superTypes: ['TYPO3.Neos:Content']
  ui:
    group: 'general'
    label: 'Congress'
    inspector:
      groups:
        congress:
          label: 'Congress'
  properties:
    name:
      type: string
      ui:
        label: 'Name'
        reloadIfChanged: TRUE
        inlineEditable: TRUE
        inspector:
          group: 'congress'
    year:
      type: integer
      defaultValue: 2015
      ui:
        label: 'Year'
        reloadIfChanged: TRUE
        inlineEditable: TRUE
        inspector:
          group: 'congress'
    homepageUrl:
      type: string
      ui:
        label: 'Homepage URL'
        reloadIfChanged: TRUE
        inspector:
          group: 'congress'
    program:
      type: reference
      ui:
        label: 'Program'
        reloadIfChanged: TRUE
        inspector:
          group: 'congress'


'Itc.ITeleTraffic:Congresses':
  superTypes: ['TYPO3.Neos:Content']
  constraints:
    nodeTypes:
      'Itc.ITeleTraffic:Congress': TRUE
      '*': FALSE
  ui:
    group: 'general'
    label: 'Congresses'
    inlineEditable: true
